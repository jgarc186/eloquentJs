<!DOCTYPE html>
<html>
<head>
	<title>Mouse Motion</title>
	<style type="text/css">
		div {
			background: orange;
			width: 60px;
			height: 20px;
		}
	</style>
</head>
<body>

	<p>Drag the bar to change its width:</p>

	<div>
		
	</div>

	<script type="text/javascript">
		let lastX; // Tracks the last observed mouse X position
		let bar = document.querySelector("div");

		bar.addEventListener("mousedown", event => {
			if (event.button == 0) {
				lastX = event.clientX;
				window.addEventListener("mousemove", moved);
				event.preventDefault();
			}
		});

		function moved(event) {
			if (event.buttons == 0) {
				window.removeEventListener("mousemove", moved);
			} else {
				let dist = event.clientX - lastX;
				let newWidth = Math.max(10, bar.offsetWidth + dist);
				bar.style.width = newWidth + "px";
				lastX = event.clientX;
			}
		}

	</script>

</body>
</html>